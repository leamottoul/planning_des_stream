<!DOCTYPE html>
<html lang="fr">
<head>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: #f3f0ff;
      color: #222;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 30px;
    }
    .container {
      background: white;
      padding: 20px;
      border-radius: 20px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      max-width: 800px;
      width: 100%;
    }
    h1 {
      text-align: center;
      color: #6c4db4;
    }
    .calendar-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
    }
    .calendar-header button {
      padding: 8px 12px;
      background: #6c4db4;
      border: none;
      border-radius: 8px;
      color: white;
      cursor: pointer;
    }
    .calendar {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
    }
    .day {
      background: #f3f3f3;
      border-radius: 10px;
      padding: 8px;
      min-height: 80px;
      text-align: center;
      cursor: pointer;
      transition: 0.3s;
      position: relative;
    }
    .day.today {
      border: 2px solid #ffd54f;
      box-shadow: 0 0 10px #ffecb3;
      animation: pulse 1s infinite alternate;
    }
    @keyframes pulse {
      from { transform: scale(1); }
      to { transform: scale(1.05); }
    }
    .stream-info {
      font-size: 0.8em;
      margin-top: 6px;
      padding: 2px 4px;
      border-radius: 6px;
      color: white;
    }
    .Minecraft { background-color: #81c784; }
    .GTA { background-color: #64b5f6; }
    .Chat { background-color: #f48fb1; }
    .Test { background-color: #ffb74d; }
    .Off { background-color: #ccc; color: #333; }
    .modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.4);
      display: none;
      justify-content: center;
      align-items: center;
      animation: fadein 0.3s ease;
    }
    .modal-content {
      background: white;
      padding: 20px;
      border-radius: 15px;
      width: 90%;
      max-width: 400px;
      position: relative;
      animation: appear 0.4s ease;
    }
    @keyframes fadein {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes appear {
      from { transform: scale(0.9); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    .close-btn {
      position: absolute;
      right: 10px;
      top: 10px;
      cursor: pointer;
      font-size: 1.2em;
      color: #aaa;
    }
    .close-btn:hover {
      color: #444;
    }
    .notification {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: #6c4db4;
      color: white;
      padding: 12px 20px;
      border-radius: 12px;
      display: none;
    }
  </style>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calendrier Magique des Streams</title>
  <script src="https://www.gstatic.com/firebasejs/11.6.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/11.6.0/firebase-firestore-compat.js"></script>
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyBI0e7UVfPb9_HimzEsqUF24PiJjuMO6WY",
    authDomain: "planning-twitch-leatvlive.firebaseapp.com",
    projectId: "planning-twitch-leatvlive",
    storageBucket: "planning-twitch-leatvlive.firebasestorage.app",
    messagingSenderId: "975502573700",
    appId: "1:975502573700:web:a9c88741a6b476367d82d1",
    measurementId: "G-TK7SY4TDSV"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
</script>
</head>
<body>
  <div class="container">
    <h1 id="month-year">‚ú® Calendrier Magique des Streams</h1>
    <div class="calendar-header">
      <button onclick="changeMonth(-1)">‚¨ÖÔ∏è Mois pr√©c√©dent</button>
      <button id="authBtn" onclick="handleAuth()">üîí Modifier le planning</button>
      <button onclick="changeMonth(1)">Mois suivant ‚û°Ô∏è</button>
    </div>
    <div class="calendar" id="calendar-days"></div>
  </div>
<!-- Le contenu HTML est g√©r√© dynamiquement via JavaScript Firebase Firestore -->
<div class="modal" id="loginModal" style="display:none">
  <div class="modal-content">
    <span class="close-btn" onclick="closeModal('loginModal')">‚ùå</span>
    <h2 id="authTitle">Connexion</h2>
    <input type="text" id="loginUser" placeholder="Nom d'utilisateur" />
    <input type="password" id="loginPass" placeholder="Code s√©curis√©" />
    <button onclick="validateLogin()">‚úÖ Valider</button>
  </div>
</div>
<div class="modal" id="editModal" style="display:none">
  <div class="modal-content">
    <span class="close-btn" onclick="closeModal('editModal')">‚ùå</span>
    <h2>Modifier le jour</h2>
    <input type="text" id="title" placeholder="Titre du stream" />
    <select id="type">
      <option value="Minecraft">Minecraft</option>
      <option value="GTA">GTA RP</option>
      <option value="Chat">Just Chatting</option>
      <option value="Test">Test/Setup</option>
      <option value="Off">Off/Pause</option>
    </select>
    <select id="hour">
      <option value="10h00">10h00</option>
      <option value="14h30">14h30</option>
      <option value="18h00">18h00</option>
      <option value="20h00">20h00</option>
      <option value="22h00">22h00</option>
    </select>
    <button onclick="saveEdit()">üíæ Enregistrer</button>
    <button onclick="deleteDay()">üóëÔ∏è Supprimer</button>
  </div>
</div>
</body>
</html>